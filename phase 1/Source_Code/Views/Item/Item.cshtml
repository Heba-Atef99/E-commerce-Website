@model IEnumerable<E_commerce.Data.displayed_item>
@{
    int i = 0;
    double total = Model.Sum(i => i.Total_Money);
}
@*<div class="col-md-6 mx-auto">*@

@if (ViewBag.ItemType == 0)
{
    <h1 class="text-center">Sold Items</h1>
}
@if (ViewBag.ItemType == 1)
{
    <h1 class="text-center">Unsold Items</h1>
}
@if (ViewBag.ItemType == 2)
{
    <h1 class="text-center">Purchased Items</h1>
}
<br />
@if (ViewBag.ItemType == 0)
{
    <div class="row justify-content-center mb-5">
        <span class="badge badge-info p-3 display-2" style="font-size:1rem;">
            Total Income: <span class="badge badge-light">@total $</span>
        </span>
    </div>
}
@if (ViewBag.ItemType == 2)
{
    <div class="row justify-content-center mb-5">
        <span class="badge badge-info p-3 display-2" style="font-size:1rem;">
            Total Spent: <span class="badge badge-light">@total $</span>
        </span>
    </div>

}

<table class="table table-striped text-center">
    <thead class="thead-dark">
        <tr>
            <th>ID: </th>
            <th>Image: </th>
            <th>Name: </th>
            <th>Type: </th>
            <th>Price: </th>
            @if (ViewBag.ItemType == 2)
            {
                <th>Purchased Amount: </th>
                <th>Purchased Date: </th>
            }
            @if (ViewBag.ItemType == 1)
            {
                <th>Available Amount: </th>
                <th>Publish Date: </th>
            }
            @if (ViewBag.ItemType == 0)
            {
                <th>Sold Amount: </th>
                <th>Publish Date: </th>
            }
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            i = i + 1;
            <tr>
                <td>@i</td>
                <td><img alt="@item.Name" height="50" width="50" src="~@item.Image"></td>
                <td>@item.Name</td>
                <td>@item.Type</td>
                <td>@item.Price</td>
                @if (ViewBag.ItemType == 2)
                {
                    <td>@item.Purchased_Count</td>
                    <td>@item.Purchase_Date </td>
                }
                @if (ViewBag.ItemType == 1)
                {
                    <td>@item.Available_Count</td>
                    <td>@item.Publish_Date </td>
                }
                @if (ViewBag.ItemType == 0)
                {
                    <td>@item.Sold_Instances </td>
                    <td>@item.Publish_Date </td>
                }
            </tr>
        }
    </tbody>
</table>
@*</div>*@
